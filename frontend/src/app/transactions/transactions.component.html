<div class="example-container mat-elevation-z8">
  @if (isLoadingResults || isRateLimitReached) {
    <div class="example-loading-shade">
      @if (isLoadingResults) {
        <mat-spinner></mat-spinner>
      }
      @if (isRateLimitReached) {
        <div class="example-rate-limit-reached">
          GitHub's API rate limit has been reached. It will be reset in one minute.
        </div>
      }
    </div>
  }

  <div class="table-wrapper">
    <table mat-table [dataSource]="data" class="example-table"
           matSort matSortActive="created" matSortDisableClear matSortDirection="desc">

      <!-- Date Column -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let row">{{row.date}}</td>
      </ng-container>

      <!-- Sequence Number Column -->
      <ng-container matColumnDef="sequenceNumber">
        <th mat-header-cell *matHeaderCellDef>Sequence</th>
        <td mat-cell *matCellDef="let row">{{row.sequenceNumber}}</td>
      </ng-container>

      <!-- Text Column -->
      <ng-container matColumnDef="text">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          Text
        </th>
        <td mat-cell *matCellDef="let row">{{row.text}}</td>
      </ng-container>

      <!-- Amount Column -->
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          Amount
        </th>
        <td mat-cell *matCellDef="let row">{{row.amount}}</td>
      </ng-container>

      <!-- Amount Column -->
      <ng-container matColumnDef="label">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          Label
        </th>
        <td mat-cell *matCellDef="let row">{{row.effectiveLabel == null ? null : row.effectiveLabel.name}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
